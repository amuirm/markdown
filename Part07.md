# Part07

## Router
---

라우터는 총 두 가지 일을 하는데 하나가 Path Determination(경로 결정)이고, 또 하나는 Switching(스위칭)이다

데이터 패킷이 목적지까지 갈 수 있는 길을 검사하고 어떤 길로 가는 것이 가장 적절한지를 결정합니다. 
이것을 '경로 결정' 이라고 말한다

그리고 그 길이 결정되면 그쪽으로 데이터 패킷을 스위칭해 준다
이것을 '스위칭'이라고 한다 (스위칭은 스위치가 해주는 일과는 다르다)

경로 결정을 하는 방법으로는 라우팅 프로토콜(라우팅 알고리즘)이 있는데 어디로 가야지 가장 빠른길인지, 가장 안전한 길인지 라우터 나름대로 계산하는 것이다

이를 위해 라우팅 테이블이란 것을 만들어 관리한다, 라우팅 테이블에는 어디로 가려면 어떻게 가라는 지도 정보가 들어있는 것과 같다

```
간단히 말하면!

    라우터는 경로 결정과 스위칭을 하는 장비인데, 
    가장 좋은 경로를 결정하기 위해서 라우팅 알고리즘을 사용하고
    이런 라우팅 알고리즘은 라우팅 테이블을 만들어서 관리한다
    
```

---
## Routing Protocol && Routed Protocol
```
Routed Protocol : 라우팅을 당하는, 즉 라우터가 라우팅을 해주는 고객을 뜻함

Routing Protocol : 라우터에 살면서 Routed Protocol들에게 목적지까지 가장 좋은 길을 갈 수 있게 해주는 역할을 함
    - 다른 말로는 라우팅 알고리즘이라고 한다
        ex) RIP(Routing Information Protocol), IGRP(Interior Gateway Routing Protocol),
        OSPF(Open Shortest Path First), EIGRP(Enhanced Interior Gateway Routing Protocol)
    
    정적 라우팅 프로토콜 (Static Routing Protocol)
        1. 라우터에 사람이 일일이 경로를 입력해주는 것. 가장 빠르고 좋은 길을 사람이 찾아서 한다는 것이다.
        2. 라우터 입장에서는 사람이 입력해 준대로 데이터를 보내기만 하면 된다
        3. 라우터 자체에는 부담이 들지 않아 라우팅하는 속도도 빨라지고 라우터의 성능이 좋아지게 된다
        4. 동적 라우팅 방식과는 다르게 라우터들끼리 라우팅 테이블을 교환할 필요가 없다
        5. 하지만 일일이 입력해주기 귀찮다 그리고 잘못 입력하면 통신이 아예 되지 않는다
        6. 네트워크의 크기가 크면 해줄 정적 라우팅이 많아 힘들다

    동적 라우팅 프로토콜 (Dynamic Routing Protool)
        1. 사람이 일일이 해줄 필요가 없이, 간편하다
        2. 라우터가 할 일이 많아지기 떄문에 라우터에게 부담을 준다
        3. 여러 가지 상황에 자동으로 대응할 수 있는 장점이 있다
```
```
간단히 말하면!

    라우팅 프로토콜에는 '스태틱 라우팅 프로토콜'과 '다이나믹 라우팅 프로토콜'이 있다. 
    스태틱은 라우터가 정해준 길만을 가기 떄문에 일이 없는 대신 사람이 일일이 구성을 해줘야 하고, 
    정해진 길에 문제가 생겨도 사람이 고쳐줄 때까지는 계속 그 길로 가려고 한다. 
    다이나믹은 라우터가 알아서 길을 찾는 장점이 있는 대신 라우터가 할 일이 많다

```
---
## AS, 그리고 내부용, 외부용 라우팅 프로토콜

### AS
- "Autonomous System" : 하나의 네트워크 관리자에 의해서 관리되는 라우터들의 집단
- AS라는 그룹으로 묶어주는 이유는 라우터가 가지는 정보를 효율적으로 관리하고 인터넷 서비스를 좀 더 간편하게 제공하기 위해서이다.
- 라우팅 정보를 AS 어디 부분에서 주고 받는지에 따라 외부용, 내부용 나눠진다

 ### 내부용, 외부용 라우팅 프로토콜
 - Interior Routing Protocol : RIP, IGRP, EIGRP, OSPF
 - Exterior ROuting Protocol : EGP, BGP

---
## Telnet
```
대부분의 라우터를 관리할 떄가장 많이 사용하는 방법으로 라우터의 IP 주소만 알고 있고 네트워크에 접속만 되어 있다면 어디에서도 구성이 가능하다는 장점을 가지고 있다

반면 라우터의 맨 처음 구성 시에는 어차피 IP 주소조차 없기 떄문에 사용이 불가능하다는 단점과 네트워크 연결이 끊어질 경우 텔넷 접속이 불가능하다는 단점을 가지고 있다
```
---
## TFTP Server
```
이미 다른 곳에서 만들어 놓은 라우터의 구성 파일을 TFTP 서버에 저장해 두었다가 라우터로 다운로드해 주는 방식을 말합니다. 이떄 다운로드에 사용되는 프로토콜이 바로 TFTP(Trivial File Transfer Protocol)인데, 우리말로 하면 '단순형 파일 전송 프로토콜' 정도 된다
```
---
```
알면 좋은 부분!

    라우터를 구성하는 방법은 5가지가 있다
        1. 맨 처음 라우터를 구성할 때 쓰는 콘솔 케이블을 통한 구성
        2. 원격지에서 모뎀을 이용한 구성
        3. IP 주소가 세팅된 다음에 네트워크를 통해서 접속하는 텔넷을 이용한 구성
        4. 네트워크 관리 시스템이 있는 곳에서 사용하는 NMS를 이용한 구성
        5. 미리 구성된 파일을 저장했다가 나중에 라우터로 다운로드하는 TFTP 서버를 이용한 구성

```

## Router Mode
```
라우터의 몇 가지 모드 화면으로 들어가게 되는데, 그 모드는 대략 User Mode, Privilege Mode, Configuration mode, Setup mode, RXBOOT mode 등이 있다

RXBOOT MODE
    RXBOOT 모드는 평소에는 사용할 일이 없는 모드이다. 이 모드는 라우터의 패스워드를
    모르는 경우나 라우터의 이미지 파일에 문제가 생긴 경우 복구를 위해 사용합니다. 
    또 이 모드를 Rommon 모드라고 한다(ROM Monitor 모드를 줄여서 말한거임)

Setup MODE
    라우터를 처음 구매해서 파워를 켰거나 라우터에 구성 파일이 없는 경우 라우터가 부팅하면서 자동으로 들어가는 모드, 이 모드에 들어가서 라우터는 구성에 관계된 질문을 하나하나 던지게 되고, 사용자는 이 질문에 대답하면서 구성 파일을 만들 수 있도록 되어 있다
```